!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));let n="";function o(e,t,r){switch(e){case"guestplay":$(".js-router").load(n+"/insertion-form.html");break;case"start-play":$(".js-router").load(n+"/start-play.html",t.bind(null,[r]));break;case"stored-flashcards":$(".js-router").load(n+"/stored-flashcards.html",t);break;case"results-page":$(".js-router").load(n+"/results-page.html",t.bind(null,r));break;case"landing-page":default:$(".js-router").load(n+"/landing-page.html")}}n="Flashcards-Fun/",$(document).ready((function(){window.history.pushState({id:"landing-page"},"landing page","/landing-page.html"),o("landing-page")})),window.onpopstate=function(e){let t=e.state;(null==t?void 0:t.avoidOnBack)?(window.history.pushState({id:"guestplay"},"insertion form","/insertion-form.html"),o("guestplay")):o(t.id)}},function(e,t,r){r(2),r(6),r(3),r(4),e.exports=r(5)},function(e,t){$("body").on("shown.bs.modal",".modal",e=>{setTimeout(()=>$(".modal").modal("hide"),1e3)})},function(e,t,r){"use strict";r.r(t);var n=r(0);$("center").on("click","#guestplay",e=>{let t=event.target.id;window.history.pushState({id:t},"insertion form","/insertion-form.html"),Object(n.a)(t)})},function(e,t,r){"use strict";r.r(t);class n extends HTMLDivElement{constructor(){self=super(),self.setAttribute("class","input-group mb-4");let e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("class","form-control mr-2"),e.setAttribute("placeholder","Source Term"),e.setAttribute("aria-label","Source Term");let t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("class","form-control ml-2 mr-1"),t.setAttribute("placeholder","Target Term"),t.setAttribute("aria-label","Target Term");let r=document.createElement("i");r.setAttribute("class","fas fa-equals fa-2x"),self.appendChild(e),self.appendChild(r),self.appendChild(t);let n=document.createElement("div");n.setAttribute("class","input-group-append");let o=document.createElement("button");o.setAttribute("class","btn btn-primary js-save-btn"),o.setAttribute("type","button"),o.textContent="Save";let a=document.createElement("button");a.setAttribute("class","btn btn-outline-secondary js-remove-btn"),a.setAttribute("type","button"),a.textContent="Remove",n.appendChild(o),n.appendChild(a),self.appendChild(n)}}customElements.define("insertion-form-div",n,{extends:"div"}),t.default=n},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t);class o extends HTMLDivElement{static get observedAttributes(){return["data-source","data-target"]}attributeChangedCallback(e,t,r){t&&t!==r&&(this.firstTermUpdated=!1,this.secondTermUpdated=!1,this.updateTermsView())}constructor(){var e;self=(e=super(),n(this,"firstTermUpdated",!1),n(this,"secondTermUpdated",!1),n(this,"buttonDelete",void 0),n(this,"buttonUpdate",void 0),e),self.setAttribute("class","input-group mb-4");let t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("class","form-control mr-2"),t.setAttribute("aria-label","Source Term"),t.setAttribute("value",this.getAttribute("data-source")),t.addEventListener("change",e=>{let r=e.target.value;""===r.trim()&&(t.setAttribute("value",this.getAttribute("data-source")),r=this.getAttribute("data-source"),e.target.value=r),r!==this.getAttribute("data-source")?this.firstTermUpdated=!0:this.firstTermUpdated=!1,this.updateTermsView()});let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("class","form-control ml-2 mr-1"),r.setAttribute("aria-label","Target Term"),r.setAttribute("value",this.getAttribute("data-target")),r.addEventListener("change",e=>{let t=e.target.value;""===t.trim()&&(r.setAttribute("value",this.getAttribute("data-target")),t=this.getAttribute("data-target"),e.target.value=t),t!==this.getAttribute("data-target")?this.secondTermUpdated=!0:this.secondTermUpdated=!1,this.updateTermsView()});let o=document.createElement("i");o.setAttribute("class","fas fa-equals fa-2x"),self.appendChild(t),self.appendChild(o),self.appendChild(r);let a=document.createElement("div");a.setAttribute("class","input-group-append"),this.buttonUpdate=document.createElement("button"),this.buttonUpdate.setAttribute("type","button"),this.buttonUpdate.textContent="Update",this.buttonDelete=document.createElement("button"),this.buttonDelete.setAttribute("type","button"),this.buttonDelete.textContent="Delete",a.appendChild(this.buttonUpdate),a.appendChild(this.buttonDelete),self.appendChild(a),this.updateTermsView()}updateTermsView(){this.firstTermUpdated&&this.secondTermUpdated?(this.buttonUpdate.setAttribute("class","btn btn-outline-secondary js-update-btn"),this.buttonDelete.setAttribute("class","btn btn-outline-secondary js-delete-btn"),this.buttonUpdate.setAttribute("disabled","true"),this.buttonDelete.setAttribute("disabled","true")):this.firstTermUpdated&&!this.secondTermUpdated||!this.firstTermUpdated&&this.secondTermUpdated?(this.buttonDelete.setAttribute("disabled","true"),this.buttonDelete.setAttribute("class","btn btn-outline-secondary js-delete-btn"),this.buttonUpdate.removeAttribute("disabled"),this.buttonUpdate.setAttribute("class","btn btn-primary js-update-btn")):(this.buttonUpdate.setAttribute("class","btn btn-outline-secondary js-update-btn"),this.buttonUpdate.setAttribute("disabled","true"),this.buttonDelete.removeAttribute("disabled"),this.buttonDelete.setAttribute("class","btn btn-primary js-delete-btn"))}}customElements.define("edit-form-div",o,{extends:"div"}),t.default=o},function(e,t,r){"use strict";function n(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function o(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}r.r(t);var a=new WeakMap,i=new WeakMap,s=class{constructor(e,t=[]){a.set(this,{writable:!0,value:void 0}),i.set(this,{writable:!0,value:void 0});let r=0;o(this,a,new Array),o(this,i,e);for(const e of t)n(this,a).push({content:e.content||e,position:r++,hint:"hint"})}get category(){return n(this,i)}get terms(){return n(this,a)}};var l={};function c(e,t){return l.transaction(e,t).objectStore(e)}!function(){let e=indexedDB.open("flashcards_database",1);e.onsuccess=function(t){l=e.result},e.onerror=function(e){console.error("openDb:",e.target.errorCode)},e.onupgradeneeded=function(e){e.currentTarget.result.createObjectStore("flashcards",{keyPath:"id",autoIncrement:!0}).createIndex("category","category",{unique:!1})}}(),l.getAll=async function(){let e,t=c("flashcards","readonly");try{e=t.getAll()}catch(e){return Promise.reject(e)}return new Promise((t,r)=>{e.onsuccess=function(){t(e.result)},e.onerror=function(){r()}})},l.addFlashcard=async function(e){let t,r=c("flashcards","readwrite");try{t=r.add(e)}catch(e){return Promise.reject(e)}return new Promise((e,r)=>{t.onsuccess=function(){e(t.result)},t.onerror=function(){r()}})},l.getByCategory=async function(e){return new Promise((t,r)=>{let n=c("flashcards","readonly").index("category"),o=[];n.openCursor().onsuccess=r=>{let n=r.target.result;if(!n)return t(o);n.value.category.localeCompare(e)||o.push(n.value),n.continue()},n.openCursor().onerror=e=>{r("Failed to open a cursor on database store")}})},l.updateFlashcard=async function(e,t,r){return new Promise((n,o)=>{let a,i=c("flashcards","readwrite").index("category");i.openCursor().onsuccess=async i=>{let s=i.target.result;if(!s)return o("the update was unsuccessful");if(!s.value.category.localeCompare(e)&&!s.value.terms[0].content.localeCompare(t)&&s.value.terms[1].content.localeCompare(r)){const e=s.value;e.terms[1].content=r,a=s.update(e)}if(!s.value.category.localeCompare(e)&&s.value.terms[0].content.localeCompare(t)&&!s.value.terms[1].content.localeCompare(r)){const e=s.value;e.terms[0].content=t,a=s.update(e)}if(a){return await async function(e){return new Promise(t=>{e.onsuccess=function(){t(!0)},e.onerror=function(){t(!1)}})}(a)?n("the update was successful"):o("An error was encountered when updating the record")}s.continue()},i.openCursor().onerror=e=>{o("whopsieeee!")}})},l.deleteFlashcard=async function(e,t){return new Promise((r,n)=>{let o=c("flashcards","readwrite").index("category"),a=!1;o.openCursor().onsuccess=o=>{let i=o.target.result;if(!a)if(i){if(!i.value.category.localeCompare(e)&&!i.value.terms[0].content.localeCompare(t)){let e=i.delete();e.onsuccess=function(){r("Delete was successful"),a=!0},e.onerror=function(){n("Delete was unsuccessful"),a=!0}}i.continue()}else n("No matching flashcards found")},o.openCursor().onerror=e=>{n("Failed to open a cursor on the provided category")}})};var u=l;class d{static fromObject(e){return new s(e.category,e.terms)}static toObject(e){return{terms:[...e.terms],category:e.category}}static async retrieveFlashcardsByCategory(e){let t=[],r=await u.getByCategory(e);for(let e of r)t.push(d.fromObject(e));return t}static async getAllFlashcards(){let e=[];try{let t=await u.getAll();for(let r of t)e.push(d.fromObject(r))}catch(e){console.log(e)}return e}static async saveFlashcard(e){let t,r=d.toObject(e);try{t=await u.addFlashcard(r)}catch(e){console.log(e)}return t}static async deleteFlashcard(e){let t;try{let r=d.toObject(e),n=r.terms[0].content;t=await u.deleteFlashcard(r.category,n)}catch(e){console.log(e)}return t}static async updateFlashcard(e){let t;try{let r=d.toObject(e),n=r.terms[0].content,o=r.terms[1].content;t=await u.updateFlashcard(r.category,n,o)}catch(e){console.log(e)}return t}}var p=d;function m(e){let t=[];const r=e.childNodes;for(let e=0;e<r.length;++e)"input"===r[e].nodeName.toLowerCase()&&t.push(r[e].value);return t}var f=Object.hasOwnProperty,h=Object.setPrototypeOf,g=Object.isFrozen,b=Object.keys,y=Object.freeze,v=Object.seal,A="undefined"!=typeof Reflect&&Reflect,T=A.apply,w=A.construct;T||(T=function(e,t,r){return e.apply(t,r)}),y||(y=function(e){return e}),v||(v=function(e){return e}),w||(w=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t))))});var x=U(Array.prototype.forEach),k=U(Array.prototype.indexOf),S=U(Array.prototype.join),E=U(Array.prototype.pop),C=U(Array.prototype.push),O=U(Array.prototype.slice),D=U(String.prototype.toLowerCase),M=U(String.prototype.match),_=U(String.prototype.replace),L=U(String.prototype.indexOf),j=U(String.prototype.trim),N=U(RegExp.prototype.test),F=H(RegExp),R=H(TypeError);function U(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return T(e,t,n)}}function H(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(e,r)}}function P(e,t){h&&h(e,null);for(var r=t.length;r--;){var n=t[r];if("string"==typeof n){var o=D(n);o!==n&&(g(t)||(t[r]=o),n=o)}e[n]=!0}return e}function z(e){var t={},r=void 0;for(r in e)T(f,e,[r])&&(t[r]=e[r]);return t}var I=y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),B=y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),G=y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),W=y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),q=y(["#text"]),V=y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),Y=y(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),K=y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),X=y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J=v(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Q=v(/<%[\s\S]*|[\s\S]*%>/gm),Z=v(/^data-[\-\w.\u00B7-\uFFFF]/),ee=v(/^aria-[\-\w]+$/),te=v(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),re=v(/^(?:\w+script|data):/i),ne=v(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ae(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var ie=function(){return"undefined"==typeof window?null:window},se=function(e,t){if("object"!==(void 0===e?"undefined":oe(e))||"function"!=typeof e.createPolicy)return null;var r=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(r=t.currentScript.getAttribute("data-tt-policy-suffix"));var n="dompurify"+(r?"#"+r:"");try{return e.createPolicy(n,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};var le=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie(),r=function(t){return e(t)};if(r.version="2.0.11",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=!1,a=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,l=t.Node,c=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,p=t.Text,m=t.Comment,f=t.DOMParser,h=t.trustedTypes;if("function"==typeof s){var g=a.createElement("template");g.content&&g.content.ownerDocument&&(a=g.content.ownerDocument)}var v=se(h,n),A=v&&Ne?v.createHTML(""):"",T=a,w=T.implementation,$=T.createNodeIterator,U=T.getElementsByTagName,H=T.createDocumentFragment,le=n.importNode,ce={};r.isSupported=w&&void 0!==w.createHTMLDocument&&9!==a.documentMode;var ue=J,de=Q,pe=Z,me=ee,fe=re,he=ne,ge=te,be=null,ye=P({},[].concat(ae(I),ae(B),ae(G),ae(W),ae(q))),ve=null,Ae=P({},[].concat(ae(V),ae(Y),ae(K),ae(X))),Te=null,we=null,xe=!0,ke=!0,Se=!1,Ee=!1,Ce=!1,Oe=!1,De=!1,Me=!1,_e=!1,Le=!1,je=!1,Ne=!1,Fe=!0,$e=!0,Re=!1,Ue={},He=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Pe=null,ze=P({},["audio","video","img","source","image","track"]),Ie=null,Be=P({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ge=null,We=a.createElement("form"),qe=function(e){Ge&&Ge===e||(e&&"object"===(void 0===e?"undefined":oe(e))||(e={}),be="ALLOWED_TAGS"in e?P({},e.ALLOWED_TAGS):ye,ve="ALLOWED_ATTR"in e?P({},e.ALLOWED_ATTR):Ae,Ie="ADD_URI_SAFE_ATTR"in e?P(z(Be),e.ADD_URI_SAFE_ATTR):Be,Pe="ADD_DATA_URI_TAGS"in e?P(z(ze),e.ADD_DATA_URI_TAGS):ze,Te="FORBID_TAGS"in e?P({},e.FORBID_TAGS):{},we="FORBID_ATTR"in e?P({},e.FORBID_ATTR):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,xe=!1!==e.ALLOW_ARIA_ATTR,ke=!1!==e.ALLOW_DATA_ATTR,Se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=e.SAFE_FOR_JQUERY||!1,Ce=e.SAFE_FOR_TEMPLATES||!1,Oe=e.WHOLE_DOCUMENT||!1,_e=e.RETURN_DOM||!1,Le=e.RETURN_DOM_FRAGMENT||!1,je=e.RETURN_DOM_IMPORT||!1,Ne=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,$e=!1!==e.KEEP_CONTENT,Re=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||ge,Ce&&(ke=!1),Le&&(_e=!0),Ue&&(be=P({},[].concat(ae(q))),ve=[],!0===Ue.html&&(P(be,I),P(ve,V)),!0===Ue.svg&&(P(be,B),P(ve,Y),P(ve,X)),!0===Ue.svgFilters&&(P(be,G),P(ve,Y),P(ve,X)),!0===Ue.mathMl&&(P(be,W),P(ve,K),P(ve,X))),e.ADD_TAGS&&(be===ye&&(be=z(be)),P(be,e.ADD_TAGS)),e.ADD_ATTR&&(ve===Ae&&(ve=z(ve)),P(ve,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&P(Ie,e.ADD_URI_SAFE_ATTR),$e&&(be["#text"]=!0),Oe&&P(be,["html","head","body"]),be.table&&(P(be,["tbody"]),delete Te.tbody),y&&y(e),Ge=e)},Ve=function(e){C(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=A}},Ye=function(e,t){try{C(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){C(r.removed,{attribute:null,from:t})}t.removeAttribute(e)},Ke=function(e){var t=void 0,r=void 0;if(Me)e="<remove></remove>"+e;else{var n=M(e,/^[\r\n\t ]+/);r=n&&n[0]}var i=v?v.createHTML(e):e;try{t=(new f).parseFromString(i,"text/html")}catch(e){}if(o&&P(Te,["title"]),!t||!t.documentElement){var s=(t=w.createHTMLDocument("")).body;s.parentNode.removeChild(s.parentNode.firstElementChild),s.outerHTML=i}return e&&r&&t.body.insertBefore(a.createTextNode(r),t.body.childNodes[0]||null),U.call(t,Oe?"html":"body")[0]};r.isSupported&&function(){try{var e=Ke("<x/><title>&lt;/title&gt;&lt;img&gt;");N(/<\/title/,e.querySelector("title").innerHTML)&&(o=!0)}catch(e){}}();var Xe=function(e){return $.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,(function(){return c.FILTER_ACCEPT}),!1)},Je=function(e){return!(e instanceof p||e instanceof m)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof d&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Qe=function(e){return"object"===(void 0===l?"undefined":oe(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":oe(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ze=function(e,t,n){ce[e]&&x(ce[e],(function(e){e.call(r,t,n,Ge)}))},et=function(e){var t=void 0;if(Ze("beforeSanitizeElements",e,null),Je(e))return Ve(e),!0;var n=D(e.nodeName);if(Ze("uponSanitizeElement",e,{tagName:n,allowedTags:be}),("svg"===n||"math"===n)&&0!==e.querySelectorAll("p, br").length)return Ve(e),!0;if(!be[n]||Te[n]){if($e&&!He[n]&&"function"==typeof e.insertAdjacentHTML)try{var o=e.innerHTML;e.insertAdjacentHTML("AfterEnd",v?v.createHTML(o):o)}catch(e){}return Ve(e),!0}return"noscript"===n&&N(/<\/noscript/i,e.innerHTML)||"noembed"===n&&N(/<\/noembed/i,e.innerHTML)?(Ve(e),!0):(!Ee||e.firstElementChild||e.content&&e.content.firstElementChild||!N(/</g,e.textContent)||(C(r.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=_(e.innerHTML,/</g,"&lt;"):e.innerHTML=_(e.textContent,/</g,"&lt;")),Ce&&3===e.nodeType&&(t=e.textContent,t=_(t,ue," "),t=_(t,de," "),e.textContent!==t&&(C(r.removed,{element:e.cloneNode()}),e.textContent=t)),Ze("afterSanitizeElements",e,null),!1)},tt=function(e,t,r){if(Fe&&("id"===t||"name"===t)&&(r in a||r in We))return!1;if(ke&&N(pe,t));else if(xe&&N(me,t));else{if(!ve[t]||we[t])return!1;if(Ie[t]);else if(N(ge,_(r,he,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==L(r,"data:")||!Pe[e]){if(Se&&!N(fe,_(r,he,"")));else if(r)return!1}else;}return!0},rt=function(e){var t=void 0,n=void 0,o=void 0,a=void 0,i=void 0;Ze("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve};for(i=s.length;i--;){var c=t=s[i],u=c.name,d=c.namespaceURI;if(n=j(t.value),o=D(u),l.attrName=o,l.attrValue=n,l.keepAttr=!0,l.forceKeepAttr=void 0,Ze("uponSanitizeAttribute",e,l),n=l.attrValue,!l.forceKeepAttr){if("name"===o&&"IMG"===e.nodeName&&s.id)a=s.id,s=O(s,[]),Ye("id",e),Ye(u,e),k(s,a)>i&&e.setAttribute("id",a.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===n&&l.keepAttr&&(ve[o]||!we[o]))continue;"id"===u&&e.setAttribute(u,""),Ye(u,e)}if(l.keepAttr)if(Ee&&N(/\/>/i,n))Ye(u,e);else if(N(/svg|math/i,e.namespaceURI)&&N(F("</("+S(b(He),"|")+")","i"),n))Ye(u,e);else{Ce&&(n=_(n,ue," "),n=_(n,de," "));var p=e.nodeName.toLowerCase();if(tt(p,o,n))try{d?e.setAttributeNS(d,u,n):e.setAttribute(u,n),E(r.removed)}catch(e){}}}}Ze("afterSanitizeAttributes",e,null)}},nt=function e(t){var r=void 0,n=Xe(t);for(Ze("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)Ze("uponSanitizeShadowNode",r,null),et(r)||(r.content instanceof i&&e(r.content),rt(r));Ze("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e,o){var a=void 0,s=void 0,c=void 0,u=void 0,d=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Qe(e)){if("function"!=typeof e.toString)throw R("toString is not a function");if("string"!=typeof(e=e.toString()))throw R("dirty is not a string, aborting")}if(!r.isSupported){if("object"===oe(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Qe(e))return t.toStaticHTML(e.outerHTML)}return e}if(De||qe(o),r.removed=[],"string"==typeof e&&(Re=!1),Re);else if(e instanceof l)1===(s=(a=Ke("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!_e&&!Ce&&!Oe&&-1===e.indexOf("<"))return v&&Ne?v.createHTML(e):e;if(!(a=Ke(e)))return _e?null:A}a&&Me&&Ve(a.firstChild);for(var p=Xe(Re?e:a);c=p.nextNode();)3===c.nodeType&&c===u||et(c)||(c.content instanceof i&&nt(c.content),rt(c),u=c);if(u=null,Re)return e;if(_e){if(Le)for(d=H.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return je&&(d=le.call(n,d,!0)),d}var m=Oe?a.outerHTML:a.innerHTML;return Ce&&(m=_(m,ue," "),m=_(m,de," ")),v&&Ne?v.createHTML(m):m},r.setConfig=function(e){qe(e),De=!0},r.clearConfig=function(){Ge=null,De=!1},r.isValidAttribute=function(e,t,r){Ge||qe({});var n=D(e),o=D(t);return tt(n,o,r)},r.addHook=function(e,t){"function"==typeof t&&(ce[e]=ce[e]||[],C(ce[e],t))},r.removeHook=function(e){ce[e]&&E(ce[e])},r.removeHooks=function(e){ce[e]&&(ce[e]=[])},r.removeAllHooks=function(){ce={}},r}();async function ce(){let e=await p.getAllFlashcards();for(let t of e)$("center").append($(`<div is='edit-form-div' data-source='${t.terms[0].content}' data-target='${t.terms[1].content}'>`))}$("center").on("click",".js-delete-btn",async e=>{let t=m(e.target.parentNode.parentNode),r=new s("General",t);await p.deleteFlashcard(r)?($(".modal-content").html("Flashcard removed successfully!"),$(".modal-content").css("background-color","green"),e.currentTarget.parentElement.parentElement.remove()):($(".modal-content").html("An error occured during deletion"),$(".modal-content").css("background-color","red")),$(".modal").modal("show")}),$("center").on("click",".js-update-btn",async e=>{let t=m(e.target.parentNode.parentNode),r=new s("General",t);await p.updateFlashcard(r)?($(".modal-content").html("Flashcard updated successfully!"),$(".modal-content").css("background-color","green"),e.target.parentElement.parentElement.setAttribute("data-source",t[0]),e.target.parentElement.parentElement.setAttribute("data-target",t[1])):($(".modal-content").html("An error occured during the update"),$(".modal-content").css("background-color","red")),$(".modal").modal("show")});var ue=r(0);let de,pe,me,fe;function he(e){const[t,r,n]=e;de=n,$("h2").html("Your score is: "+t+"/"+r)}$("center").on("click","#toMainPage",()=>{window.history.pushState({},"insertion form","/insertion-form.html"),Object(ue.a)("guestplay")}),$("center").on("click","#replay",()=>{window.history.pushState({},"start play","/start-play.html"),Object(ue.a)("start-play",ye,de)});let ge=0,be=[];async function ye(){if(ge=0,be=await p.retrieveFlashcardsByCategory("General"),!be.length)return $("h1").html("Please create some flashcards first!"),$("h2").html("No flashcards found").css("color","red"),void $(".input-group").css("display","none");fe=be.length,me=Te(),ve(me)}function ve(e){$("h2").html("Category: "+e.category),$("h1").html(e.terms[0].content),$("input").css("background-color","white"),$("input").val("")}function Ae(){$(".js-correct-answers").html(ge+"/"+fe),$(".js-correct-answers").css("font-weight","bold"),be.length?(me=Te(),ve(me)):(window.history.pushState({avoidOnBack:!0},"results page","/results-page.html"),Object(ue.a)("results-page",he,[ge,fe,"General"]))}function Te(){let e=Math.floor(Math.random()*be.length);return be.splice(e,1)[0]}$("center").on("keyup","#givenAnswer",e=>{if(13===e.keyCode){if(pe=$("input").val(),!pe)return;!function(e){e.localeCompare(me.terms[1].content)?$("input").css("background-color","red"):(ge++,$("input").css("background-color","green"));setTimeout(Ae,2e3)}(pe)}}),$("center").on("click","#start-play",()=>{let e=event.target.id;window.history.pushState({id:e,avoidOnBack:!0},"start play","/start-play.html"),Object(ue.a)(e,ye,"General")}),$("center").on("click","#stored-flashcards",()=>{let e=event.target.id;window.history.pushState({id:e,avoidOnBack:!0},"Stored flashcards","/stored-flashcards.html"),Object(ue.a)(e,ce)}),$("center").on("click",".js-add-btn",()=>{$("<div is='insertion-form-div'>").insertAfter("hr")}),$("center").on("click",".js-remove-btn",e=>{e.currentTarget.parentElement.parentElement.remove()}),$("center").on("click",".js-save-btn",async e=>{let t=m(e.target.parentNode.parentNode);if(t=t.map(e=>le.sanitize(e)),""===t[0]||""===t[1])return $(".modal-content").html("Please fill all the term fields"),$(".modal-content").css("background-color","red"),void $(".modal").modal("show");let r=new s("General",t);await p.saveFlashcard(r)>0?($(".modal-content").html("Flashcard added successfully!"),$(".modal-content").css("background-color","green"),e.currentTarget.parentElement.parentElement.remove()):($(".modal-content").html("Flashcard could not be stored"),$(".modal-content").css("background-color","red")),$(".modal").modal("show")})}]);
//# sourceMappingURL=main.js.map